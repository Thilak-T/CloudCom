<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this template, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <ui:composition template="/template.xhtml">
        <ui:define name="body">
            <h:form enctype="multipart/form-data">
                <p:panel header="View Profile">
                    <f:facet name="header" >
                        <h:commandLink value="View Profile" action="/page/userprofile.xhtml" style="padding-right: 10px;"/>
                    </f:facet>
                    <p:messages showDetail="true"/>  


                    <p:fileUpload fileUploadListener="#{profile.handleFileUpload}" mode="advanced" dragDropSupport="false"  
                                  update="messages profileImg" fileLimit="3" allowTypes="/(\.|\/)(gif|jpe?g|png)$/" />  
                    <p:growl id="messages" showDetail="true"/>  

                    <h:panelGrid columns="1" cellpadding="1">  
                        <p:graphicImage id="profileImg" value="/media/#{profile.profilePic}" height="100px" width="100px"/> 
                        <br/><br/>
                        <p:inputTextarea rows="10" cols="50" value="#{profile.person.description}" /> 
                        <br/>
                        <h:panelGroup>
                            Name   :  &#160;&#160;<h:inputText value="#{profile.person.name}"/> 
                        </h:panelGroup>
                        <br/>
                        <h:panelGroup>
                            Email   : &#160;&#160;<h:outputLabel value="#{profile.person.email}"/>
                        </h:panelGroup>
                        <br/>
                        <h:commandButton value="Save" action="#{profile.save()}"/>
                    </h:panelGrid>  
                </p:panel>
            </h:form>
        </ui:define>
    </ui:composition>
</html>
